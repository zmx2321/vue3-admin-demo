import{h as v,r as x,R as C,g as r,o as u,i as _,e as t,w as l,f as i,F,j as w,c as D,v as R}from"./index-CCA_-42S.js";import{_ as B}from"./plugin-vueexport-helper-DlAUqK2U.js";const U={class:"card content-box"},$=v({name:"dynamicForm"}),q=v({...$,setup(I){const d=x(),n=C({domains:[{key:1,value:""}],email:""}),y=a=>{const e=n.domains.indexOf(a);e!==-1&&n.domains.splice(e,1)},b=()=>{n.domains.push({key:Date.now(),value:""})},g=async a=>{a&&await a.validate((e,s)=>{})},k=a=>{a&&a.resetFields()};return(a,e)=>{const s=r("el-button"),p=r("el-input"),m=r("el-form-item"),V=r("el-form");return u(),_("div",U,[t(s,{class:"add",type:"primary",plain:"",onClick:b},{default:l(()=>e[3]||(e[3]=[i(" Add Input ")])),_:1}),t(V,{ref_key:"formRef",ref:d,model:n,"label-width":"100px",class:"demo-dynamic"},{default:l(()=>[t(m,{prop:"email",label:"Email",rules:[{required:!0,message:"Please input email address",trigger:"blur"},{type:"email",message:"Please input correct email address",trigger:["blur","change"]}]},{default:l(()=>[t(p,{modelValue:n.email,"onUpdate:modelValue":e[0]||(e[0]=o=>n.email=o)},null,8,["modelValue"])]),_:1}),(u(!0),_(F,null,w(n.domains,(o,f)=>(u(),D(m,{key:o.key,label:"Domain"+f,prop:"domains."+f+".value",rules:{required:!0,message:"domain can not be null",trigger:"blur"}},{default:l(()=>[t(p,{modelValue:o.value,"onUpdate:modelValue":c=>o.value=c},{append:l(()=>[t(s,{type:"danger",plain:"",class:"mt-2",onClick:R(c=>y(o),["prevent"])},{default:l(()=>e[4]||(e[4]=[i(" Delete ")])),_:2},1032,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label","prop"]))),128)),t(m,null,{default:l(()=>[t(s,{type:"primary",onClick:e[1]||(e[1]=o=>g(d.value))},{default:l(()=>e[5]||(e[5]=[i(" Submit ")])),_:1}),t(s,{onClick:e[2]||(e[2]=o=>k(d.value))},{default:l(()=>e[6]||(e[6]=[i(" Reset ")])),_:1})]),_:1})]),_:1},8,["model"])])}}}),j=B(q,[["__scopeId","data-v-c247ecdb"]]);export{j as default};
